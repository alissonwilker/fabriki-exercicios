language: java
install: true
env:
- MOZ_HEADLESS=1
addons:
firefox: latest
script:
- export EXERCICIOS_CORRETOS=0
- export CONTADOR_EXERCICIOS=0
- export RESULTADO_TESTES=0
- source ./resources/scripts/validador.sh executarTestesIntegracao ContaBancariaWebStateful
- echo $RESULTADO_TESTES
- echo 3 $EXERCICIOS_CORRETOS CORRETOS DE $CONTADOR_EXERCICIOS EXERCICIOS.
cache:
  directories:
  - $HOME/.m2
after_success:
- curl -k -X GET "http://localhost:8080/fabriki/ResultadoValidacao?resultadoValidacao=$TRAVIS_TEST_RESULT&pullRequestNumber=$TRAVIS_PULL_REQUEST&pullRequestOriginBranch=$TRAVIS_PULL_REQUEST_BRANCH&travisBuildId=$TRAVIS_BUILD_ID"
after_failure:
- curl -k -X GET "http://localhost:8080/fabriki/ResultadoValidacao?resultadoValidacao=$TRAVIS_TEST_RESULT&pullRequestNumber=$TRAVIS_PULL_REQUEST&pullRequestOriginBranch=$TRAVIS_PULL_REQUEST_BRANCH&travisBuildId=$TRAVIS_BUILD_ID"
